## 深入理解面向对象

### 面向对象编程和面向对象编程语言

面向对象编程是一种编程范式或编程风格。它以类或对象作为组织代码的基本单元，并 将封装、抽象、继承、多态四个特性，作为代码设计和实现的基石 。
 
面向对象编程语言是支持类或对象的语法机制，并有现成的语法机制，能方便地实现面
向对象编程四大特性(封装、抽象、继承、多态)的编程语言。


### 封装

封装也叫作信息隐藏或者数据访问保护。类通过暴露有限的访问接口，授权外部仅能通过类 提供的方式来访问内部信息或者数据。它需要编程语言提供权限访问控制语法来支持，例如 Java 中的 private、protected、public 关键字。封装特性存在的意义，一方面是保护数据不被随意修改，提高代码的可维护性;另一方面是仅暴露有限的必要接口，提高类的易用性。

### 抽象

封装主要讲如何隐藏信息、保护数据，那抽象就是讲如何隐藏方法的具体实现，让使用者只
需要关心方法提供了哪些功能，不需要知道这些功能是如何实现的。抽象可以通过接口类或
者抽象类来实现，但也并不需要特殊的语法机制来支持。抽象存在的意义，一方面是提高代
码的可扩展性、维护性，修改实现不需要改变定义，减少代码的改动范围;另一方面，它也
是处理复杂系统的有效手段，能有效地过滤掉不必要关注的信息。

### 继承
继承是用来表示类之间的 is-a 关系，分为两种模式:单继承和多继承。单继承表示一个子 类只继承一个父类，多继承表示一个子类可以继承多个父类。为了实现继承这个特性，编程 语言需要提供特殊的语法机制来支持。继承主要是用来解决代码复用的问题。

``` js
// 类
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age
  }

  getName() {
    return this.name;
  }

  getAge(){
    return this.age;
  }

  speak() {
    return 'say hello';
  }
}

// 继承类
class Student extends Person{
  constructor(name, age , number) {
    super(name, age);
    this.number = number;
  }

  study(){
    return `${this.name},今年${this.age}岁，学号${this.number},爱学习.`
  }
}

// 实例
const s = new Student('liu', 27, 21832190);
const myName = s.getName();
const lang = s.speak();
const age = s.getAge();

console.log(myName, lang, age);
console.log(s.study());


```

### 多态
多态是指子类可以替换父类，在实际的代码运行过程中，调用子类的方法实现。多态这种特 性也需要编程语言提供特殊的语法机制来实现，比如继承、接口类和duck-typing。多态可 以提高代码的扩展性和复用性，是很多设计模式、设计原则、编程技巧的代码实现基础。
 

 ### 设计

 1、单一职责原则（Single Responsibility Principle）

一个类应该只有一个发生变化的原因。
不要存在多于一个导致类变更的原因，也就是说每个类应该实现单一的职责，否则就应该把类拆分。

2、里氏替换原则（Liskov Substitution Principle）

所有引用基类的地方必须能透明地使用其子类的对象。
任何基类可以出现的地方，子类一定可以出现。里氏替换原则是继承复用的基石，只有当衍生类可以替换基类，软件单位的功能不受到影响时，基类才能真正被复用，而衍生类也能够在基类的基础上增加新的行为。

里氏代换原则是对“开-闭”原则的补充。实现“开闭”原则的关键步骤就是抽象化。而基类与子类的继承关系就是抽象化的具体实现，所以里氏替换原则是对实现抽象化的具体步骤的规范。里氏替换原则中，子类对父类的方法尽量不要重写和重载。因为父类代表了定义好的结构，通过这个规范的接口与外界交互，子类不应该随便破坏它。

3、依赖倒置原则（Dependence Inversion Principle）

1、上层模块不应该依赖底层模块，它们都应该依赖于抽象。
2、抽象不应该依赖于细节，细节应该依赖于抽象。
面向接口编程，依赖于抽象而不依赖于具体。写代码时用到具体类时，不与具体类交互，而与具体类的上层接口交互。

4、接口隔离原则（Interface Segregation Principle）

1、客户端不应该依赖它不需要的接口。
2、类间的依赖关系应该建立在最小的接口上。
每个接口中不存在子类用不到却必须实现的方法，如果不然，就要将接口拆分。使用多个隔离的接口，比使用单个接口（多个接口方法集合到一个的接口）要好。

5、迪米特法则（最少知道原则）(Law of Demeter)

只与你的直接朋友交谈，不跟“陌生人”说话。
一个类对自己依赖的类知道的越少越好。无论被依赖的类多么复杂，都应该将逻辑封装在方法的内部，通过public方法提供给外部。这样当被依赖的类变化时，才能最小的影响该类。

最少知道原则的另一个表达方式是：只与直接的朋友通信。类之间只要有耦合关系，就叫朋友关系。耦合分为依赖、关联、聚合、组合等。我们称出现为成员变量、方法参数、方法返回值中的类为直接朋友。局部变量、临时变量则不是直接的朋友。我们要求陌生的类不要作为局部变量出现在类中。

6、合成复用原则（Composite Reuse Principle）

尽量使用对象组合/聚合，而不是继承关系达到软件复用的目的。
合成或聚合可以将已有对象纳入到新对象中，使之成为新对象的一部分，因此新对象可以调用已有对象的功能。

记忆口诀：SOLID CD（稳固的CD）。
